# pytorch的gather和scatter两个用法。

* Example:
表一

|一班|二班|三班|四班|
|---|----|---|---|
|小红|校花|小刚|小赵|
|小明|小芳|小强|小王|

此处假设有四个班级，每个班级有两个学生，现在他们要报高考志愿：清华、北大、负担、上交、浙大，序号依次
为0-4.各班的报名状况为：

表2

|一班|二班|三班|四班|
|---|----|---|---|
|0(小红)|1(校花)|4(小刚)|3(小赵)|
|2(小明)|3(小芳)|0(小强)|1(小王)|
如果我想知道有哪些人报了清华大学，他们分别在哪个班，上面的表格还是不够直观。如果生成一个把大学作为行、把
班级作为列的表格，则可以清晰地看到各个大学在各班的报名情况：

表3


|   |一班|二班|三班|四班|
|---|----|---|---|---|
|清华0|0(小红)| |0(小强)||
|北大1   | |1(小华)| |1(小王)|
|复旦2   |2(小明)| | | |
|上交3   | |3(小芳)| |3(小赵)|
|浙大4   | | |4(小刚)| |

**到了这里，已经完成了一次pytorch中的scatter操作。**

* scatter
````python
self[index[i][j][k]][j][k] = src[i][j][k]  # if dim == 0
self[i][index[i][j][k]][k] = src[i][j][k]  # if dim == 1
self[i][j][index[i][j][k]] = src[i][j][k]  # if dim == 2
````
先从简单的二维情况分析，把上面的例子第一行改成二维的
````python
self[index[i][j]][j] = src[i][j] # if dim == 0

````
然后，类比于报志愿的问题，src是表1，index是表2，self是表3.i是学生在该班级内部的编号(所在行),j是
班级编号,注意i和j都从0开始.

那么Src[i][j]表示的是j班的第i个同学.根据表1 src[0][0]就是小红

index[i][j]表示的是j班i号同学所报大学的编号。因此 ，显而易见的是index的形状应该和src一致，（严格来讲，只需要
index各维度尺寸小于src的）。同时index表中最大的数，不应该超出可选大学的最大下表，也就是self的末行下标。

gather所做的操作，先查出index[i][j] 找到第j班i同学所报的大学编号，该编号就是需要修改的表3的
行下标，由于该同学所在的班级是j班，因此需要修改表三的列下标是j；确定了需要修改的表三的行、列下标，
接下来需要确定的是修改的值。在我们的类比中，src[i][j]是该同学的名字，因此把名字填入self中对应的
位置即可。


